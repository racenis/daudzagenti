// VALUE.H - libgoetia
// Value definition, conversion functions definitions.

#ifndef VALUE_H
#define VALUE_H

enum {
	VALUE_ATOM,
	VALUE_INT,
	VALUE_FLOAT,
	VALUE_STRING,
	VALUE_LIST
};

typedef int value_type;

typedef int atom;

enum {
	// interpreter commands
	ATOM_NULL,
	ATOM_OK,
	ATOM_ERROR,
	ATOM_TRUE,
	ATOM_FALSE,
	ATOM_EQ,
	ATOM_GT,
	ATOM_LT,
	ATOM_AND,
	ATOM_OR,
	ATOM_NOT,
	ATOM_ADD,
	ATOM_SUB,
	ATOM_MULT,
	ATOM_DIV,
	ATOM_PRINT,
	ATOM_IF,
	ATOM_SET,
	ATOM_QUOTE,
	ATOM_LIST,
	ATOM_EVAL,
	ATOM_APPLY,
	ATOM_LAMBDA,
	ATOM_CONTEXT,
	ATOM_DO,
	ATOM_PATTERN,
	ATOM_ELLIPSIS,
	ATOM_IS,
	ATOM_SYSTEM_RESERVED_28,
	ATOM_SYSTEM_RESERVED_29,
	ATOM_SYSTEM_RESERVED_30,
	ATOM_SYSTEM_RESERVED_31,
	ATOM_SYSTEM_RESERVED_32,
	ATOM_SYSTEM_RESERVED_33,
	ATOM_SYSTEM_RESERVED_34,
	ATOM_SYSTEM_RESERVED_35,
	ATOM_SYSTEM_RESERVED_36,
	ATOM_SYSTEM_RESERVED_37,
	ATOM_SYSTEM_RESERVED_38,
	ATOM_SYSTEM_RESERVED_39,
	
	// special bind values that start with underscore
	ATOM_AGENT_SELF,
	ATOM_AGENT_STIM,
	ATOM_AGENT_SUBTYPE,
	ATOM_AGENT_SUBJECT,
	ATOM_AGENT_OBJECT,
	ATOM_AGENT_ACTION,
	ATOM_AGENT_CHEM,
	ATOM_AGENT_AMMOUNT,
	ATOM_SYSTEM_RESERVED_48,
	ATOM_SYSTEM_RESERVED_49,
	
	// various simulation-related terms
	ATOM_ID,
	ATOM_NAME,
	ATOM_ENERGY,
	ATOM_ENTROPY,
	ATOM_TEMPERATURE,
	ATOM_POSITION,
	ATOM_ACTION,
	ATOM_CHEMICAL,
	ATOM_SKELETON,
	ATOM_SENSOR,
	ATOM_INIT,
	ATOM_UNINIT,
	ATOM_TICK,
	ATOM_STIMULUS,
	ATOM_CATEGORY,
	ATOM_COLLISION,
	ATOM_SPHERE,
	ATOM_CYLINDER,
	ATOM_CUBE,
	ATOM_MASS,
	ATOM_SYSTEM_RESERVED_70,
	ATOM_SYSTEM_RESERVED_71,
	ATOM_SYSTEM_RESERVED_72,
	ATOM_SYSTEM_RESERVED_73,
	ATOM_SYSTEM_RESERVED_74,
	ATOM_SYSTEM_RESERVED_75,
	ATOM_SYSTEM_RESERVED_76,
	ATOM_SYSTEM_RESERVED_77,
	ATOM_SYSTEM_RESERVED_78,
	ATOM_SYSTEM_RESERVED_79,
	ATOM_SYSTEM_RESERVED_80,
	ATOM_SYSTEM_RESERVED_81,
	ATOM_SYSTEM_RESERVED_82,
	ATOM_SYSTEM_RESERVED_83,
	ATOM_SYSTEM_RESERVED_84,
	ATOM_SYSTEM_RESERVED_85,
	ATOM_SYSTEM_RESERVED_86,
	ATOM_SYSTEM_RESERVED_87,
	ATOM_SYSTEM_RESERVED_88,
	ATOM_SYSTEM_RESERVED_89,
	
	// actions
	ATOM_PUSH,
	ATOM_PULL,
	ATOM_DEACTIVATE,
	ATOM_EAT,
	ATOM_PICKUP,
	ATOM_LOOKAT,
	ATOM_REST,
	ATOM_SYSTEM_RESERVED_97,
	ATOM_SYSTEM_RESERVED_98,
	ATOM_SYSTEM_RESERVED_99,
	
	// category
	ATOM_CREATURE,
	ATOM_MACHINE,
	ATOM_MANMACHINE,
	ATOM_ROOT,
	ATOM_FRUIT,
	ATOM_NUT,
	ATOM_INSECT,
	ATOM_CRITTER,
	ATOM_GEAT,
	ATOM_DETRITUS,
	ATOM_SYSTEM_RESERVED_110,
	ATOM_SYSTEM_RESERVED_111,
	ATOM_SYSTEM_RESERVED_112,
	ATOM_SYSTEM_RESERVED_113,
	ATOM_SYSTEM_RESERVED_114,
	ATOM_SYSTEM_RESERVED_115,
	ATOM_SYSTEM_RESERVED_116,
	ATOM_SYSTEM_RESERVED_117,
	ATOM_SYSTEM_RESERVED_118,
	ATOM_SYSTEM_RESERVED_119,
	ATOM_SYSTEM_RESERVED_120,
	ATOM_SYSTEM_RESERVED_121,
	ATOM_SYSTEM_RESERVED_122,
	ATOM_SYSTEM_RESERVED_123,
	ATOM_SYSTEM_RESERVED_124,
	ATOM_SYSTEM_RESERVED_125,
	ATOM_SYSTEM_RESERVED_126,
	ATOM_SYSTEM_RESERVED_127,
	ATOM_SYSTEM_RESERVED_128,
	ATOM_SYSTEM_RESERVED_129,
	
	// random stuff
	ATOM_VISUAL,
	ATOM_SOUND,
	ATOM_SMELL,
	ATOM_TOUCH,
	ATOM_APPEAR,
	ATOM_LEAVE,
	ATOM_MOVE,
	ATOM_INJECT,
	ATOM_INGEST,
	ATOM_PERFORM,
	ATOM_REACT,
	ATOM_EJECT,
	ATOM_OFFER,
	ATOM_KILL,
	
	// chems
	ATOM_ANIMA,
	ATOM_LIGHT,
	ATOM_WATER,
	ATOM_SUGAR,
	ATOM_STARCH,
	ATOM_FAT,
	ATOM_FIBER,
	ATOM_AMINO_ACID,
	ATOM_AMMONIA,
	ATOM_OXYGEN,
	ATOM_CARBON_DIOXIDE,
	ATOM_SUGAR_OXIDE,
	ATOM_UREA,
	ATOM_BONE_MINERAL,
	ATOM_ASBESTOS,
	ATOM_ACID,
	ATOM_HEAVY_METAL,
	ATOM_MERCURY,
	ATOM_LEAD,
	ATOM_CYANIDE,
	ATOM_CHOLESTEROL,
	ATOM_STARCH_SYNTHASE,
	ATOM_STARCH_BREAKDOWNASE,
	ATOM_FIBER_SYNTHASE,
	ATOM_FIBER_BREAKDOWNASE,
	ATOM_AMINO_ACID_SYNTHASE,
	ATOM_AMINO_ACID_BREAKDOWNASE,
	ATOM_STEM_TISSUE,
	ATOM_ROOT_TISSUE,
	ATOM_LEAF_TISSUE,
	ATOM_PLANT_ORGAN_SYNTHASE,
	ATOM_PLANT_ORGAN_BREAKDOWNASE,
	ATOM_MILK_SUGAR,
	ATOM_MILK_SUGAR_SYNTHASE,
	ATOM_MILK_SUGAR_BREAKDOWNASE,
	ATOM_LUNG_TISSUE,
	ATOM_INTESTINE_TISSUE,
	ATOM_EYE_TISSUE,
	ATOM_EAR_TISSUE,
	ATOM_NOSE_TISSUE,
	ATOM_KIDNEY_TISSUE,
	ATOM_MUSCLE_TISSUE,
	ATOM_THROAT_TISSUE,
	ATOM_BONE_TISSUE,
	ATOM_HEART_TISSUE,
	ATOM_LIVER_TISSUE,
	ATOM_MILK_TISSUE,
	ATOM_SEX_TISSUE,
	ATOM_BRAIN_TISSUE,
	ATOM_NERVE_TISSUE,
	ATOM_INPUT_ORGAN_SYNTHASE,
	ATOM_OUTPUT_ORGAN_SYNTHASE,
	ATOM_METABOLISM_ORGAN_SYNTHASE,
	ATOM_REGULATORY_ORGAN_SYNTHASE,
	ATOM_ANIMAL_ORGAN_BREAKDOWNASE,
	ATOM_SECTOR,
	ATOM_WALL,
	ATOM_X,
	ATOM_Z,
	ATOM_Y_MAX,
	ATOM_Y_MIN,
	ATOM_SET_MODEL,
	ATOM_FLAGS,
	ATOM_ANIMAL,
	ATOM_PLANT,
	ATOM_FUNGUS,
	ATOM_MECHANICAL,
	ATOM_IMMORTAL,
	ATOM_DISALLOW_PICKUP,
	ATOM_DYNAMICS_ASLEEP,
	ATOM_DYNAMICS_DISABLE,
	ATOM_GET,
	ATOM_DROP,
	ATOM_HIT,
	ATOM_APPROACH,
	ATOM_RETREAT,
	ATOM_LEFT,
	ATOM_RIGHT,
	ATOM_UP,
	ATOM_DOWN,
	ATOM_FORWARD,
	ATOM_BACKWARD,
	ATOM_AGENT,
	ATOM_WALLBONK,
	ATOM_HEADBONK,
	ATOM_FLOORBONK,
	ATOM_RANDOM,
	ATOM_PROBE,
	ATOM_MEASURE,
	ATOM_SPEED,
	ATOM_ROTATION,
	ATOM_LOBE,
	ATOM_MAKE,
	ATOM_INPUT,
	ATOM_OUTPUT,
	ATOM_HIDDEN,
	ATOM_CLASS,
	ATOM_VECTOR,
	ATOM_SCALAR,
	ATOM_CONNECT,
	ATOM_WEIGHT,
	ATOM_RESET,
	ATOM_HEAD,
	ATOM_TAIL,
	ATOM_SIZE,
	ATOM_POP,
	ATOM_LAST,
	ATOM_SET_SCALE,
	ATOM_SET_COLOR,
	ATOM_SET_ANIMATION,
	ATOM_AIR,
	ATOM_DESCRIPTION,
	ATOM_ALL_ENERGY,
	ATOM_ALL_SENSOR,
	ATOM_FLOAT_IN_AIR,
	ATOM_FLOAT_IN_WATER,
	
	ATOM_LAST_ATOM
};

typedef struct Value {
	union {
		atom atom;
		int int32;
		float float32;
		const char* str;
		struct List* list;
		void* data;
	};
	
	value_type type;
} Value;

atom goetia_atom_FromString(const char* string);
const char* goetia_atom_ToString(atom atom);

void goetia_value_Print(Value value);
Value goetia_value_MakeNumeric(float num);
const char* goetia_value_TypeToString(int type);

int goetia_value_Compare(Value v1, Value v2);

Value goetia_value_MakeAtom(atom atom);
Value goetia_value_MakeInt(int int32);
Value goetia_value_MakeFloat(float float32);
Value goetia_value_MakeString(const char* string);

#endif // VALUE_H